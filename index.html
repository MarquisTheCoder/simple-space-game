<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Shooter Game</title>
</head>

<body>
<style>
    html{
        margin: 0;
        padding: 0;
        background: url('images/earthview/background.jpg') no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;

        user-select: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;


    }
</style>
    <script src="js/characters.js"></script>
    <script src="js/controllers.js"></script>
    <script src="js/mapping.js"></script>


    <div id="map-box">
        <div id="player">
            <img width="125" height="80" src="images/ufo2.png">
        </div>

    </div>


    <script>

            window.onload = (event) => {
                    console.log('The page has fully loaded');
                    let player = character.player;
                    player.playerId = document.getElementById('player');
                    controller.player.playerMovement(player);
                    controller.player.setPosition(player, 60, 0);

                    let lastClick = 0;

                    document.addEventListener('mousedown', function (event){
                            let audio = new Audio('sounds/laser-gun.mp3');
                            audio.play();
                            controller.player.attack.projectile(player);
                    });

                    controller.enemy.createEnemy();
                    const random = () => Math.random()*600 + 400;

                    controller.enemy.setEnemyPosition(character.enemy, random(), random());

                    let range = 0;
                    let intervalId = setInterval(()=>{

                            if(range++ < 30){
                                    character.enemy.positionX += SPEED * range;
                                    controller.enemy.setEnemyPosition(character.enemy, character.enemy.positionX,
                                    character.enemy.positionY)
                            }
                    }, 10000)


            }

    </script>

</body>
</html>